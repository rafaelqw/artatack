"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const engine_1 = require("./engine");
const flush_1 = require("./flush");
const record_1 = require("./record");
const loader_1 = require("./loader");
const model_1 = require("./model");
const engine_2 = require("./engine");
const filter_1 = require("./filter");
const misc_1 = require("./misc");
const tree_1 = require("./tree");
class ClosureTable {
    constructor(table, ancestor, descendant, depth) {
        this.table = table;
        this.ancestor = ancestor;
        this.descendant = descendant;
        this.depth = depth;
    }
}
exports.ClosureTable = ClosureTable;
class Database {
    constructor(connection, schema) {
        this.tableMap = {};
        this.tableList = [];
        if (connection instanceof engine_2.ConnectionPool) {
            this.pool = connection;
        }
        else if (connection) {
            this.pool = engine_1.createConnectionPool(connection.dialect, connection.connection);
            this.name = connection.connection.database || connection.connection.name;
        }
        if (schema)
            this.setSchema(schema);
    }
    getModels(bulk = false) {
        return this.tableList.reduce((map, table) => {
            map[table.model.name] = record_1.getModel(table, bulk);
            return map;
        }, {});
    }
    buildSchema(config) {
        if (this.schema)
            return Promise.resolve(this.schema);
        return new Promise(resolve => this.pool.getConnection().then(connection => engine_2.getInformationSchema(connection, this.name).then(schemaInfo => {
            const schema = new model_1.Schema(schemaInfo);
            this.setSchema(schema);
            resolve(schema);
        })));
    }
    clone() {
        return new Database(this.pool, this.schema);
    }
    setSchema(schema) {
        this.schema = schema;
        for (const model of schema.models) {
            const table = new Table(this, model);
            this.tableMap[model.name] = table;
            this.tableMap[model.table.name] = table;
            this.tableList.push(table);
        }
        for (const model of schema.models) {
            if (model.config.closureTable) {
                const config = model.config.closureTable;
                const fields = config.fields || {};
                const table = this.table(config.name);
                if (!table) {
                    throw Error(`Table ${config.name} not found.`);
                }
                let fieldName = fields.ancestor || 'ancestor';
                const ancestor = table.model.field(fieldName);
                if (!ancestor || !(ancestor instanceof model_1.ForeignKeyField)) {
                    throw Error(`Field ${fieldName} is not a foreign key`);
                }
                fieldName = fields.descendant || 'descendant';
                const descendant = table.model.field(fieldName);
                if (!descendant || !(descendant instanceof model_1.ForeignKeyField)) {
                    throw Error(`Field ${fieldName} is not a foreign key`);
                }
                let depth;
                if (fields.depth) {
                    depth = table.model.field(fields.depth);
                    if (!depth) {
                        throw Error(`Field ${fields.depth} not found`);
                    }
                }
                this.table(model).closureTable = new ClosureTable(table, ancestor, descendant, depth);
            }
        }
    }
    table(name) {
        if (name instanceof model_1.Field) {
            name = name.model.name;
        }
        else if (name instanceof model_1.Model) {
            name = name.name;
        }
        return this.tableMap[name];
    }
    model(name) {
        return this.table(name).model;
    }
    append(name, data) {
        return this.table(name).append(data);
    }
    getDirtyCount() {
        return this.tableList.reduce((count, table) => {
            count += table.getDirtyCount();
            return count;
        }, 0);
    }
    flush() {
        return this.pool.getConnection().then(connection => flush_1.flushDatabase(connection, this).then(result => {
            connection.release();
            return connection;
        }));
    }
    clear() {
        for (const name in this.tableMap) {
            this.tableMap[name].clear();
        }
    }
    json() {
        return this.tableList.reduce((result, table) => {
            result[table.model.name] = table.json();
            return result;
        }, {});
    }
}
exports.Database = Database;
class Table {
    constructor(db, model) {
        this.recordList = [];
        this.db = db;
        this.name = model.table.name;
        this.model = model;
        this._initMap();
    }
    column(name) {
        const field = this.model.field(name);
        return field.column;
    }
    getParentField(model) {
        return this.model.getForeignKeyOf(model || this.model);
    }
    getAncestors(row, filter) {
        const field = this.closureTable.ancestor;
        return this.db.pool.getConnection().then(connection => tree_1.treeQuery(connection, this, row, field, filter).then(result => {
            connection.release();
            return result;
        }));
    }
    getDescendants(row, filter) {
        const field = this.closureTable.descendant;
        return this.db.pool.getConnection().then(connection => tree_1.treeQuery(connection, this, row, field, filter).then(result => {
            connection.release();
            return result;
        }));
    }
    select(fields, options = {}, filterThunk) {
        return this.db.pool.getConnection().then(connection => this._select(connection, fields, options, filterThunk).then(result => this._resolveRelatedFields(connection, result, fields).then(result => {
            connection.release();
            return result;
        })));
    }
    _resolveRelatedFields(connection, result, fields) {
        if (typeof fields === 'string' || fields instanceof model_1.SimpleField) {
            return Promise.resolve(result);
        }
        const pk = this.model.keyField().name;
        const values = result.map(row => this.model.valueOf(row, pk));
        const promises = [];
        for (const name in fields) {
            const field = this.model.field(name);
            const value = fields[name];
            if (field instanceof model_1.RelatedField && value) {
                let options, fields;
                if (typeof value !== 'object') {
                    options = {};
                }
                else {
                    options = Object.assign({}, value);
                    if (options.fields) {
                        fields = options.fields;
                        delete options.fields;
                    }
                    else {
                        fields = '*';
                    }
                }
                const promise = this._selectRelated(field, values, fields, options).then(rows => {
                    result.forEach((entry, index) => {
                        entry[name] = rows[index];
                    });
                });
                promises.push(promise);
            }
        }
        return Promise.all(promises).then(() => {
            const promises = [];
            for (const name in fields) {
                const field = this.model.field(name);
                const value = fields[name];
                if (field instanceof model_1.ForeignKeyField && value) {
                    const rows = result.map(row => row[field.name]);
                    const table = this.db.table(field.referencedField.model);
                    const promise = table._resolveRelatedFields(connection, rows, value);
                    promises.push(promise);
                }
            }
            return Promise.all(promises).then(() => result);
        });
    }
    get(key) {
        return this.db.pool.getConnection().then(connection => this._get(connection, key).then(result => {
            connection.release();
            return result;
        }));
    }
    insert(data) {
        return this.db.pool.getConnection().then(connection => this._insert(connection, data).then(result => {
            connection.release();
            return result;
        }));
    }
    create(data) {
        return this.db.pool.getConnection().then(connection => connection.transaction(() => this._create(connection, data).then(result => {
            connection.release();
            return result;
        })));
    }
    update(data, filter) {
        return this.db.pool.getConnection().then(connection => this._update(connection, data, filter).then(result => {
            connection.release();
            return result;
        }));
    }
    upsert(data, update) {
        return this.db.pool.getConnection().then(connection => connection.transaction(() => this._upsert(connection, data, update).then(result => {
            connection.release();
            return result;
        })));
    }
    modify(data, filter) {
        return this.db.pool.getConnection().then(connection => connection.transaction(() => this._modify(connection, data, filter).then(result => {
            connection.release();
            return result;
        })));
    }
    delete(filter) {
        return this.db.pool.getConnection().then(connection => {
            if (this.closureTable) {
                return connection.transaction(() => this._delete(connection, filter).then(result => {
                    connection.release();
                    return result;
                }));
            }
            else {
                return this._delete(connection, filter).then(result => {
                    connection.release();
                    return result;
                });
            }
        });
    }
    count(filter, expr) {
        let sql;
        if (expr) {
            sql = `select count(${expr}) as result from ${this._name()}`;
        }
        else {
            sql = `select count(1) as result from ${this._name()}`;
        }
        if (filter) {
            sql += ` where ${this._where(filter)}`;
        }
        return this.db.pool.getConnection().then(connection => connection.query(sql).then(rows => {
            connection.release();
            return parseInt(rows[0].result);
        }));
    }
    _name() {
        return this.db.pool.escapeId(this.model.table.name);
    }
    _where(filter) {
        return filter_1.encodeFilter(filter, this.model, this.db.pool);
    }
    _pair(name, value) {
        if (typeof name === 'string') {
            name = this.model.field(name);
        }
        return this.escapeName(name) + '=' + this.escapeValue(name, value);
    }
    _select(connection, fields, options = {}, filterThunk) {
        const builder = new filter_1.QueryBuilder(this.model, this.db.pool);
        let sql = builder.select(fields, options.where, options.orderBy, filterThunk);
        if (options.limit !== undefined) {
            sql += ` limit ${parseInt(options.limit + '')}`;
        }
        if (options.offset !== undefined) {
            sql += ` offset ${parseInt(options.offset + '')}`;
        }
        return connection.query(sql).then(rows => {
            return filterThunk
                ? rows
                : rows.map(row => toDocument(row, this.model, builder.fieldMap));
        });
    }
    _update(connection, fields, filter) {
        const data = Object.assign({}, fields);
        for (const name in filter) {
            if (name in data) {
                const lhs = this.model.valueOf(data, name);
                const rhs = this.model.valueOf(filter, name);
                if (lhs === null) {
                    if (rhs === null) {
                        delete data[name];
                    }
                    continue;
                }
                if (rhs === null)
                    continue;
                if (lhs.toString() === rhs.toString()) {
                    delete data[name];
                }
            }
        }
        if (Object.keys(data).length === 0) {
            return Promise.resolve(0);
        }
        let sql = `update ${this._name()} set`;
        let cnt = 0;
        const keys = Object.keys(data);
        for (let i = 0; i < keys.length; i++) {
            const field = this.model.field(keys[i]);
            if (field instanceof model_1.SimpleField) {
                if (i > 0) {
                    sql += ',';
                }
                sql += this._pair(field, data[keys[i]]);
                cnt++;
            }
        }
        if (cnt === 0) {
            return Promise.resolve();
        }
        if (filter) {
            if (typeof filter === 'string') {
                sql += ` where ${filter}`;
            }
            else {
                sql += ` where ${this._where(filter)}`;
            }
        }
        return connection.query(sql);
    }
    _insert(connection, data) {
        const keys = Object.keys(data);
        if (keys.length === 0)
            throw Error(`${this.model.name}: No data`);
        const name = keys.map(key => this.escapeName(key)).join(', ');
        const value = keys.map(key => this.escapeValue(key, data[key])).join(', ');
        const sql = `insert into ${this._name()} (${name}) values (${value})`;
        return connection.query(sql);
    }
    _delete(connection, filter) {
        const scope = filter ? `${this._where(filter)}` : '';
        const __delete = () => {
            let sql = `delete from ${this._name()}`;
            if (scope) {
                sql += ` where ${scope}`;
            }
            return connection.query(sql);
        };
        if (this.closureTable) {
            return tree_1.deleteSubtree(connection, this, scope).then(() => __delete());
        }
        else {
            return __delete();
        }
    }
    escapeName(name) {
        if (name instanceof model_1.SimpleField) {
            name = name.column.name;
        }
        else {
            if (typeof name === 'number') {
                return name + '';
            }
            if (name === '*')
                return name;
            name = this.model.field(name).column.name;
        }
        return this.db.pool.escapeId(name);
    }
    escapeValue(field, value) {
        if (typeof value === 'boolean') {
            return value ? 'true' : 'false';
        }
        if (value === null || value === undefined) {
            return 'null';
        }
        if (typeof field === 'string') {
            field = this.model.field(field);
        }
        return this.db.pool.escape(toRow(value, field) + '');
    }
    _get(connection, key) {
        if (key === null || typeof key !== 'object') {
            key = {
                [this.model.keyField().name]: key
            };
        }
        else if (!this.model.checkUniqueKey(key)) {
            const msg = `Bad selector: ${JSON.stringify(key)}`;
            return Promise.reject(Error(msg));
        }
        return this._select(connection, '*', { where: key }).then(rows => rows[0]);
    }
    // GraphQL mutations
    _resolveParentFields(connection, input, filter) {
        const result = {};
        const promises = [];
        const self = this;
        function _createPromise(field, data) {
            const table = self.db.table(field.referencedField.model);
            const method = Object.keys(data)[0];
            let promise;
            switch (method) {
                case 'connect':
                    promise = table._get(connection, data[method]);
                    break;
                case 'create':
                    promise = table._create(connection, data[method]);
                    break;
                case 'update':
                    {
                        const where = { [field.relatedField.name]: filter };
                        promise = table._modify(connection, data[method], where);
                    }
                    break;
                default:
                    throw Error(`Unsuported method '${method}'`);
            }
            if (method !== 'update') {
                promise.then(row => {
                    result[field.name] = row
                        ? row[field.referencedField.model.keyField().name]
                        : null;
                    return row;
                });
            }
            promises.push(promise);
        }
        for (const key in input) {
            let field = this.model.field(key);
            if (field instanceof model_1.ForeignKeyField &&
                input[key] &&
                typeof input[key] === 'object') {
                _createPromise(field, input[key]);
            }
            else if (field instanceof model_1.SimpleField) {
                result[key] = input[key];
            }
        }
        return Promise.all(promises).then(() => result);
    }
    _create(connection, data) {
        if (Object.keys(data).length === 0)
            throw Error('Empty data');
        return this._resolveParentFields(connection, data).then(row => this._insert(connection, row).then(id => {
            return this._updateChildFields(connection, data, id).then(() => this._get(connection, id).then(row => this.closureTable
                ? tree_1.createNode(connection, this, row).then(() => row)
                : row));
        }));
    }
    _upsert(connection, data, update) {
        if (!this.model.checkUniqueKey(data)) {
            return Promise.reject(`Incomplete: ${JSON.stringify(data)}`);
        }
        const self = this;
        return this._resolveParentFields(connection, data).then(row => {
            const uniqueFields = self.model.getUniqueFields(row);
            return self._get(connection, uniqueFields).then(row => {
                if (!row) {
                    return self._create(connection, data);
                }
                else {
                    if (update && Object.keys(update).length > 0) {
                        return self._modify(connection, update, uniqueFields);
                    }
                    else {
                        return row;
                    }
                }
            });
        });
    }
    _modify(connection, data, filter) {
        if (!this.model.checkUniqueKey(filter)) {
            return Promise.reject(`Bad filter: ${JSON.stringify(filter)}`);
        }
        const self = this;
        return this._resolveParentFields(connection, data, filter).then(row => {
            return self._update(connection, row, filter).then(() => {
                const where = Object.assign({}, filter);
                for (const key in where) {
                    if (key in row) {
                        where[key] = row[key];
                    }
                }
                return self._get(connection, where).then(row => {
                    if (row) {
                        const id = row[this.model.keyField().name];
                        return this._updateChildFields(connection, data, id).then(() => !this.closureTable || !data[this.getParentField().name]
                            ? row
                            : tree_1.moveSubtree(connection, this, row).then(() => row));
                    }
                    else {
                        return Promise.resolve(row);
                    }
                });
            });
        });
    }
    _updateChildFields(connection, data, id) {
        const promises = [];
        for (const key in data) {
            let field = this.model.field(key);
            if (field instanceof model_1.RelatedField) {
                promises.push(this._updateChildField(connection, field, id, data[key]));
            }
        }
        return Promise.all(promises);
    }
    _updateChildField(connection, related, id, data) {
        const promises = [];
        const field = related.referencingField;
        if (!field)
            throw Error(`Bad field ${related.displayName()}`);
        const table = this.db.table(field.model);
        if (!data || field.model.keyValue(data) === null) {
            const nullable = field.column.nullable;
            if (field.column.nullable) {
                return table._update(connection, { [field.name]: null }, { [field.name]: id });
            }
            else {
                return table._delete(connection, { [field.name]: id });
            }
        }
        for (const method in data) {
            const args = data[method];
            if (method === 'connect') {
                if (related.throughField) {
                    promises.push(this._connectThrough(connection, related, id, args));
                    continue;
                }
                // connect: [{parent: {id: 2}, name: 'Apple'}, ...]
                for (const arg of misc_1.toArray(args)) {
                    if (!table.model.checkUniqueKey(arg)) {
                        return Promise.reject(`Bad filter (${table.model.name})`);
                    }
                    let promise;
                    if (field.isUnique()) {
                        promise = this._disconnectUnique(connection, field, id).then(() => table._update(connection, { [field.name]: id }, args));
                    }
                    else {
                        promise = table._update(connection, { [field.name]: id }, args);
                    }
                    promises.push(promise);
                }
            }
            else if (method === 'create') {
                if (related.throughField) {
                    promises.push(this._createThrough(connection, related, id, args));
                    continue;
                }
                // create: [{parent: {id: 2}, name: 'Apple'}, ...]
                const docs = misc_1.toArray(args).map(arg => (Object.assign({ [field.name]: id }, arg)));
                if (field.isUnique()) {
                    promises.push(this._disconnectUnique(connection, field, id).then(() => table._create(connection, docs[0])));
                }
                else {
                    for (const doc of docs) {
                        promises.push(table._create(connection, doc));
                    }
                }
            }
            else if (method === 'upsert') {
                if (related.throughField) {
                    promises.push(this._upsertThrough(connection, related, id, args));
                    continue;
                }
                const rows = [];
                for (const arg of misc_1.toArray(args)) {
                    let { create, update } = arg;
                    if (!create && !field.isUnique()) {
                        throw Error('Bad data');
                    }
                    create = Object.assign({ [field.name]: id }, create);
                    if (create[field.name] === undefined) {
                        update = Object.assign({ [field.name]: id }, update);
                    }
                    promises.push(table._upsert(connection, create, update));
                }
            }
            else if (method === 'update') {
                if (related.throughField) {
                    promises.push(this._updateThrough(connection, related, id, args));
                    continue;
                }
                for (const arg of misc_1.toArray(args)) {
                    let data, where;
                    if (arg.data === undefined) {
                        data = arg;
                        where = {};
                    }
                    else {
                        data = arg.data;
                        where = arg.where;
                    }
                    const filter = Object.assign({ [field.name]: id }, where);
                    promises.push(table._modify(connection, data, filter));
                }
            }
            else if (method === 'delete') {
                if (related.throughField) {
                    promises.push(this._deleteThrough(connection, related, id, args));
                    continue;
                }
                const filter = args.map(arg => (Object.assign({}, arg /*.where*/, { [field.name]: id })));
                promises.push(table._delete(connection, filter));
            }
            else if (method === 'disconnect') {
                if (related.throughField) {
                    promises.push(this._disconnectThrough(connection, related, id, args));
                    continue;
                }
                const where = args.map(arg => (Object.assign({ [field.name]: id }, arg)));
                promises.push(table._update(connection, { [field.name]: null }, where));
            }
            else if (method === 'set') {
                let promise = related.throughField
                    ? this._deleteThrough(connection, related, id, [])
                    : table._delete(connection, { [field.name]: id });
                promise = promise.then(() => {
                    if (related.throughField) {
                        return this._createThrough(connection, related, id, args);
                    }
                    // create: [{parent: {id: 2}, name: 'Apple'}, ...]
                    const docs = misc_1.toArray(args).map(arg => (Object.assign({ [field.name]: id }, arg)));
                    if (field.isUnique()) {
                        return this._disconnectUnique(connection, field, id).then(() => table._create(connection, docs[0]));
                    }
                    else {
                        return Promise.all(docs.map(doc => table._create(connection, doc)));
                    }
                });
                promises.push(promise);
            }
            else {
                throw Error(`Unknown method: ${method}`);
            }
        }
        return Promise.all(promises);
    }
    _disconnectUnique(connection, field, id) {
        const table = this.db.table(field.model);
        return field.column.nullable
            ? table._update(connection, { [field.name]: null }, { [field.name]: id })
            : table._delete(connection, { [field.name]: id });
    }
    _connectThrough(connection, related, value, args) {
        const table = this.db.table(related.throughField.referencedField.model);
        const mapping = this.db.table(related.throughField.model);
        const promises = args.map(arg => table._get(connection, arg).then(row => row
            ? mapping._create(connection, {
                [related.referencingField.name]: value,
                [related.throughField.name]: row[table.model.keyField().name]
            })
            : Promise.resolve(null)));
        return Promise.all(promises);
    }
    _createThrough(connection, related, value, args) {
        const table = this.db.table(related.throughField.referencedField.model);
        const mapping = this.db.table(related.throughField.model);
        const promises = args.map(arg => table._create(connection, arg).then(row => mapping._create(connection, {
            [related.referencingField.name]: value,
            [related.throughField.name]: row[table.model.keyField().name]
        })));
        return Promise.all(promises);
    }
    _upsertThrough(connection, related, value, args) {
        const table = this.db.table(related.throughField.referencedField.model);
        const mapping = this.db.table(related.throughField.model);
        const promises = args.map(arg => table
            ._upsert(connection, arg.create, arg.update)
            .then(row => mapping._upsert(connection, {
            [related.referencingField.name]: value,
            [related.throughField.name]: row[table.model.keyField().name]
        })));
        return Promise.all(promises);
    }
    _updateThrough(connection, related, value, args) {
        const model = related.throughField.referencedField.model;
        const promises = args.map(arg => {
            let where;
            if (related.throughField.relatedField.throughField) {
                where = Object.assign({ [related.throughField.relatedField.name]: {
                        [related.model.keyField().name]: value
                    } }, arg.where);
            }
            else {
                where = Object.assign({ [related.throughField.relatedField.name]: {
                        [related.referencingField.name]: value
                    } }, arg.where);
            }
            return this.db
                .table(model)
                ._modify(connection, arg.data, where);
        });
        return Promise.all(promises);
    }
    _deleteThrough(connection, related, value, args) {
        const mapping = this.db.table(related.throughField.model);
        const table = this.db.table(related.throughField.referencedField.model);
        return mapping
            ._select(connection, '*', {
            where: {
                [related.referencingField.name]: value,
                [related.throughField.name]: args
            }
        })
            .then(rows => {
            if (rows.length === 0)
                return Promise.resolve(0);
            const values = rows.map(row => row[related.throughField.name][table.model.keyField().name]);
            return mapping._delete(connection, rows).then(() => table._delete(connection, {
                [table.model.keyField().name]: values
            }));
        });
    }
    _disconnectThrough(connection, related, value, args) {
        const mapping = this.db.table(related.throughField.model);
        return mapping._delete(connection, {
            [related.referencingField.name]: value,
            [related.throughField.name]: args
        });
    }
    claim(filter, data, orderBy) {
        const self = this;
        return new Promise(resolve => {
            function _select() {
                self.select('*', { where: filter, limit: 10, orderBy }).then(rows => {
                    if (rows.length === 0) {
                        resolve(null);
                    }
                    else {
                        const row = rows[Math.floor(Math.random() * rows.length)];
                        _update(row);
                    }
                });
            }
            function _update(row) {
                self.update(data, self.model.getUniqueFields(row)).then(result => {
                    if (result === 1) {
                        resolve(row);
                    }
                    else {
                        setTimeout(_select, Math.random() * 1000);
                    }
                });
            }
            _select();
        });
    }
    append(data) {
        const record = new Proxy(new record_1.Record(this), record_1.RecordProxy);
        Object.assign(record, data);
        const existing = this._mapGet(record);
        if (!existing) {
            this.recordList.push(record);
            this._mapPut(record);
            return record;
        }
        return existing;
    }
    clear() {
        this.recordList = [];
        this._initMap();
    }
    getDirtyCount() {
        let dirtyCount = 0;
        for (const record of this.recordList) {
            if (record.__dirty() && !record.__state.merged) {
                dirtyCount++;
            }
        }
        return dirtyCount;
    }
    json() {
        return this.recordList.map(record => record.__json());
    }
    _mapGet(record) {
        let existing;
        for (const uc of this.model.uniqueKeys) {
            const value = record.__valueOf(uc);
            if (value !== undefined) {
                const record = this.recordMap[uc.name()][value];
                if (record) {
                    if (existing && existing !== record) {
                        throw Error(`Inconsistent unique constraint values`);
                    }
                    existing = record;
                }
            }
        }
        return existing;
    }
    _mapPut(record) {
        for (const uc of this.model.uniqueKeys) {
            const value = record.__valueOf(uc);
            if (value !== undefined) {
                this.recordMap[uc.name()][value] = record;
            }
        }
    }
    _initMap() {
        this.recordMap = this.model.uniqueKeys.reduce((map, uc) => {
            map[uc.name()] = {};
            return map;
        }, {});
    }
    _selectRelated(field, values, fields, selectOptions) {
        const table = this.db.table(field.referencingField.model);
        const name = field.referencingField.name;
        if (selectOptions.limit) {
            const promises = [];
            if (field.throughField) {
                for (const value of values) {
                    const options = Object.assign({}, selectOptions);
                    options.where = {
                        [field.throughField.name]: options.where,
                        [field.referencingField.name]: value
                    };
                    if (options.orderBy) {
                        const prefix = field.throughField.name;
                        options.orderBy = misc_1.toArray(options.orderBy).map(name => `${prefix}.${name}`);
                    }
                    promises.push(table
                        .select({ [field.throughField.name]: fields }, options)
                        .then(rows => rows.map(row => row[field.throughField.name])));
                }
            }
            else {
                for (const value of values) {
                    const options = Object.assign({}, selectOptions);
                    options.where = Object.assign({}, options.where, { [name]: value });
                    promises.push(table.select(fields, options).then(rows => {
                        if (field.referencingField.isUnique()) {
                            const row = rows[0];
                            if (row) {
                                delete row[name];
                            }
                            return row;
                        }
                        else {
                            return rows.map(row => {
                                delete row[name];
                                return row;
                            });
                        }
                    }));
                }
            }
            return Promise.all(promises);
        }
        const options = Object.assign({ where: {} }, selectOptions);
        if (field.throughField) {
            options.where = { [field.throughField.name]: options.where };
            options.where[field.referencingField.name] = values;
            if (options.orderBy) {
                const prefix = field.throughField.name;
                options.orderBy = misc_1.toArray(options.orderBy).map(name => `${prefix}.${name}`);
            }
            return table
                .select({ [field.throughField.name]: fields }, options)
                .then(rows => {
                const id = field.referencingField.model.keyField().name;
                if (field.referencingField.isUnique()) {
                    return values.map(key => {
                        const row = rows.find(row => row[name][id] === key);
                        return row ? row[field.throughField.name] : undefined;
                    });
                }
                else {
                    return values
                        .map(key => rows.filter(row => row[name][id] === key))
                        .map(docs => docs.map(doc => doc[field.throughField.name]));
                }
            });
        }
        else {
            options.where[name] = values;
            return table.select(fields, options).then(rows => {
                const id = field.referencingField.model.keyField().name;
                if (field.referencingField.isUnique()) {
                    return values.map(key => {
                        const row = rows.find(row => row[name][id] === key);
                        if (row) {
                            delete row[name];
                        }
                        return row;
                    });
                }
                else {
                    return values
                        .map(key => rows.filter(row => row[name][id] === key))
                        .map(docs => {
                        for (const doc of docs) {
                            delete doc[name];
                        }
                        return docs;
                    });
                }
            });
        }
    }
    // It is strongly recommended to call db.clear() before calling this method!
    xappend(data, config, defaults) {
        return loader_1.loadTable(this, data, config, defaults);
    }
    xselect(config, options = {}) {
        config = Object.assign({}, config);
        let attrs;
        if (config['*']) {
            attrs = config['*'];
            delete config['*'];
        }
        const fields = loader_1.recordConfigToDocument(this, config);
        return this.select(fields, options).then(docs => {
            if (attrs) {
                const options = loader_1.parseRelatedOption(attrs);
                const table = this.db.table(this.model.field(options.name).referencingField
                    .model);
                const range = docs.map(doc => this.model.keyValue(doc));
                const field = table.model.getForeignKeyOf(this.model);
                return table
                    .select('*', { where: { [field.name]: range } })
                    .then(rows => {
                    const result = [];
                    for (const doc of docs) {
                        const kv = this.model.keyValue(doc);
                        const rs = rows.filter(row => this.model.keyValue(row[field.name]) === kv);
                        for (const d of loader_1.mapDocument(doc, config)) {
                            for (const r of rs) {
                                const name = r[options.key];
                                const value = r[options.value];
                                d[name] = value;
                            }
                            result.push(d);
                        }
                    }
                    return result;
                });
            }
            else {
                return [].concat.apply([], docs.map(doc => loader_1.mapDocument(doc, config)));
            }
        });
    }
}
exports.Table = Table;
function _toCamel(value, field) {
    if (value === null || value === undefined)
        return null;
    if (value instanceof record_1.Record)
        return value;
    if (/date|time/i.test(field.column.type)) {
        // MUST BE IN ISO 8601 FORMAT!
        return new Date(value).toISOString();
    }
    if (/int|long/i.test(field.column.type)) {
        return parseInt(value);
    }
    if (/float|double/i.test(field.column.type)) {
        return parseFloat(value);
    }
    if (/^bool/i.test(field.column.type)) {
        if (typeof value === 'boolean') {
            return value;
        }
        if (typeof value === 'string') {
            return /^false|0$/i.test(value) ? false : true;
        }
        return !!value;
    }
    if (field.uniqueKey) {
        // mysql ...
        return (value + '').trim();
    }
    return value;
}
exports._toCamel = _toCamel;
function toRow(value, field) {
    if (value && /date|time/i.test(field.column.type)) {
        return new Date(value)
            .toISOString()
            .slice(0, 19)
            .replace('T', ' ');
    }
    return value;
}
exports.toRow = toRow;
function toDocument(row, model, fieldMap = {}) {
    const result = {};
    for (const key in row) {
        const fieldNames = key.split('__');
        let currentResult = result;
        let currentModel = model;
        for (let i = 0; i < fieldNames.length - 1; i++) {
            const fieldName = fieldNames[i];
            if (!currentResult[fieldName]) {
                currentResult[fieldName] = {};
            }
            const field = currentModel.field(fieldName);
            if (!(field instanceof model_1.ForeignKeyField)) {
                throw Error(`Not a foreign key: ${key}`);
            }
            currentResult = currentResult[fieldName];
            currentModel = field.referencedField.model;
        }
        const field = currentModel.field(fieldNames[fieldNames.length - 1]);
        const fieldName = fieldMap[key] || field.name;
        if (field instanceof model_1.SimpleField) {
            const value = _toCamel(row[key], field);
            if (field instanceof model_1.ForeignKeyField) {
                if (value !== null) {
                    if (!(field.name in currentResult)) {
                        currentResult[fieldName] = {};
                    }
                    const name = field.referencedField.model.keyField().name;
                    currentResult[fieldName][name] = value;
                }
                else {
                    currentResult[fieldName] = null;
                }
            }
            else {
                currentResult[fieldName] = value;
            }
        }
    }
    return result;
}
exports.toDocument = toDocument;
function isEmpty(value) {
    if (value === undefined) {
        return true;
    }
    if (value instanceof record_1.Record) {
        while (value.__state.merged) {
            value = value.__state.merged;
        }
        if (value.__primaryKeyDirty())
            return true;
        return isEmpty(value.__primaryKey());
    }
    return false;
}
exports.isEmpty = isEmpty;
function isValue(value) {
    if (value === null)
        return true;
    const type = typeof value;
    if (type === 'string' || type === 'number' || type === 'boolean') {
        return true;
    }
    return value instanceof Date;
}
exports.isValue = isValue;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWJhc2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvZGF0YWJhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxxQ0FBdUU7QUFDdkUsbUNBQXdDO0FBQ3hDLHFDQUF5RDtBQUN6RCxxQ0FNa0I7QUFDbEIsbUNBU2lCO0FBQ2pCLHFDQUtrQjtBQVFsQixxQ0FBMkQ7QUFDM0QsaUNBQWlDO0FBRWpDLGlDQUEyRTtBQUUzRTtJQUNFLFlBQ1MsS0FBWSxFQUNaLFFBQXlCLEVBQ3pCLFVBQTJCLEVBQzNCLEtBQW1CO1FBSG5CLFVBQUssR0FBTCxLQUFLLENBQU87UUFDWixhQUFRLEdBQVIsUUFBUSxDQUFpQjtRQUN6QixlQUFVLEdBQVYsVUFBVSxDQUFpQjtRQUMzQixVQUFLLEdBQUwsS0FBSyxDQUFjO0lBQ3pCLENBQUM7Q0FDTDtBQVBELG9DQU9DO0FBRUQ7SUFPRSxZQUFZLFVBQTJDLEVBQUUsTUFBZTtRQUh4RSxhQUFRLEdBQTZCLEVBQUUsQ0FBQztRQUN4QyxjQUFTLEdBQVksRUFBRSxDQUFDO1FBR3RCLElBQUksVUFBVSxZQUFZLHVCQUFjLEVBQUU7WUFDeEMsSUFBSSxDQUFDLElBQUksR0FBRyxVQUFVLENBQUM7U0FDeEI7YUFBTSxJQUFJLFVBQVUsRUFBRTtZQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLDZCQUFvQixDQUM5QixVQUFVLENBQUMsT0FBTyxFQUNsQixVQUFVLENBQUMsVUFBVSxDQUN0QixDQUFDO1lBQ0YsSUFBSSxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDLFFBQVEsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQztTQUMxRTtRQUNELElBQUksTUFBTTtZQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELFNBQVMsQ0FBQyxPQUFnQixLQUFLO1FBQzdCLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMs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